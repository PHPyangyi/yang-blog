<!DOCTYPE>
<HTML xmlns:th="http://www.thymeleaf.org">
<HEAD>
    <TITLE> ZTREE DEMO </TITLE>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" th:href="@{/backend/plus/ztree/css/zTreeStyle/zTreeStyle.css}" type="text/css">
    <style>
        body {
            background-color: white;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        div, p, table, th, td {
            list-style: none;
            margin: 0;
            padding: 0;
            color: #333;
            font-size: 12px;
            font-family: dotum, Verdana, Arial, Helvetica, AppleGothic, sans-serif;
        }

        #testIframe {
            margin-left: 10px;
        }
    </style>
    <script th:src="@{/backend/jquery/jquery-2.1.1.min.js}"></script>
    <script th:src="@{/backend/plus/ztree/js/jquery.ztree.core.js}" type="text/javascript"></script>


    <script type="text/javascript" th:src="@{/backend/plus/ztree/js/jquery.ztree.excheck.js}"></script>
    <SCRIPT type="text/javascript">

        var setting = {
            check: {
                chkStyle: "checkbox",//复选框类型
                enable: true //每个节点上是否显示 CheckBox
            },
            async: {
                enable: true,
                type: "post",
                url: "http://127.0.0.1:1234/admin/auth/menu/test",
            },
            data: {
                simpleData: {
                    enable: true,
                    pIdKey: "pid",
                }
            },
            callback: {
                beforeCheck: true,
                onCheck: onCheck
            }

        };

        $(document).ready(function () {
            let treeObj = $.fn.zTree.init($("#treeDemo"), setting);
          //  treeObj.expandAll(true);

        });

        function onCheck(e, treeId, treeNode) {
            var treeObj = $.fn.zTree.getZTreeObj("treeDemo"),
                nodes = treeObj.getCheckedNodes(true),
                v = "";
            for (var i = 0; i < nodes.length; i++) {
                v += nodes[i].name + ",";
                console.log("节点id:" + nodes[i].id + "节点名称" + v); //获取选中节点的值
            }


        }

    </SCRIPT>
</HEAD>

<BODY>


<div class="zTreeDemoBackground left">
    <ul id="treeDemo" class="ztree"></ul>
</div>

</BODY>
</HTML>
